## 테스트하기 어려운 영역을 구분하기

테스트하기 어려운 영역

- 관측할 때마다 다른 값에 의존하는 코드
    - 현재 날짜/시간, 랜덤 값, 전역 변수/함, 사용자 입력 등
- 외부에 영향을 주는 코드
    - 표준 출력, 메시지 발송, 데이터베이스에 기록하기 등

테스트하려는 함수가 외부 세계의 값에 영향을 받거나, 외부 세계에 영향을 주면 테스트하기 어렵다.

## DisplayName 작성

명사의 나열보다 문장으로 구성하기

- e.g. A이면 B다., A이면 B가 아니고 C다.
    - 음료 1개 추가 테스트 (x)
    - 음료를 1개 추가할 수 있다. (o)

테스트 행위에 대한 결과까지 기술하기

- 음료를 1개 추가할 수 있다. -> 음료를 1개 추가하면 주문 목록에 담긴다.

도메인 용어를 사용하여 한층 추상화된 내용을 담기

- 메서드 자체의 관점 -> 도메인 정책 관점
- 특정 시간 이전에 주문할 수 없다. -> 영업 시작 시간 이전에는 주문을 생성할 수 없다.

테스트 현상을 중점으로 기술하지 말자
- 테스트의 성공, 실패 여부는 테스트하고자 하는 내용과 관계가 없다.
- 영업 시작 이전에 주문을 생성하면 실패한다. -> 영업 시작 시간 이전에는 주문을 생성할 수 없다.

## Persistence Layer
- Data Access 역할
- 비즈니스 가공 로직이 포함되면 안됨, Data에 대한 CRUD에만 집중하자.

## Business Layer
- 비즈니스 로직 구현
- Persistence Layer와 상호작용을 통해 비즈니스 로직을 전개한다.
- 트랜잭션을 보장해야 한다.
